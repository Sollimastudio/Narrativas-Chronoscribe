name: ğŸ¤– AutoDiagnÃ³stico DiÃ¡rio do Narrativas-Chronoscribe

on:
  schedule:
    - cron: "0 10 * * *"  # Executa todo dia Ã s 10h da manhÃ£ (horÃ¡rio UTC)
  workflow_dispatch:      # Permite rodar manualmente tambÃ©m

jobs:
  diagnostico:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ”„ Clonar repositÃ³rio
        uses: actions/checkout@v4

      - name: ğŸ§  Ativar agente de diagnÃ³stico
        uses: github/copilot-actions@v1
        with:
          agent-file: ".github/agents/my-agent.md"
          run-mode: "analyze"
          instructions: |
            Analise o repositÃ³rio Narrativas-Chronoscribe e:
            - Verifique se o app estÃ¡ conseguindo gerar conteÃºdo.
            - Detecte falhas de build, erros de dependÃªncia, APIs quebradas ou falta de chaves.
            - Crie uma issue com o resumo em portuguÃªs se encontrar problemas.
            - Se tudo estiver ok, poste um comentÃ¡rio automÃ¡tico confirmando.

      - name: ğŸ“¬ Notificar resultado
        if: always()
        run: |
          echo "âœ… DiagnÃ³stico diÃ¡rio executado. Veja as issues para detalhes."

